#firms_file_name: &firms_file_name firms.csv
#store: pipeline.h5

firms_file_name: &firms_file_name firms_test.csv
pipeline: test_pipeline.h5

#data_dir: sample_data

scenarios_dir: scenarios
scenario_name: base

# input_pre_processor input_tables
input_tables:
  naics_industry:
    filename: corresp_naics_industry.csv
    index_col: NAICS3
  industry_10_5:
    filename: corresp_industry_10_5.csv
    index_col: industry10
  naics_empcat:
    filename: corresp_naics_empcat.csv
    index_col: n2
    column_map:
      Model_EmpCat: model_emp_cat
#  taz1_taz2:
#    filename: corresp_taz1_taz2.csv
  taz_fips:
    filename: corresp_taz_fips.csv
    column_map:
      CountyFIPS: county_FIPS
      StateFIPS: state_FIPS
  taz_faf:
    filename: corresp_taz_faf5.csv
    column_map:
      FAF5: FAF
  unit_cost:
    filename: data_unitcost.csv
    column_map:
      Commodity_SCTG: SCTG
      UnitCost: unit_cost
    index_col: SCTG
  est_pref_weights:
    filename: data_est_pref_weights.csv
    column_map:
      Commodity_SCTG: SCTG
      CostWeight: cost_weight
      TimeWeight: time_weight
      SingleSourceMaxFraction: single_source_max_fraction
      Commodity_SCTG_desc: SCTG_description
    index_col: SCTG
  employment_categories:
    filename: EmploymentCategories.csv
    column_map:
      EstablishmentSize: esizecat
      ID: id
  firm_employment_categories:
      filename: FirmEmploymentCategories.csv
      column_map:
        FirmSize: fsizecat
        ID: id
  input_output_values:
    filename: InputOutputValues.csv
    column_map:
      NAICS6_Make: NAICS6_make
      NAICS6_Use: NAICS6_use
      ProVal: pro_val
  NAICS2007_to_NAICS2007io:
    filename: NAICS2007_to_NAICS2007io.csv
    index_col: NAICS
  NAICS2012_to_NAICS2007io:
    filename: NAICS2012_to_NAICS2007io.csv
    # no index col as there are dupes in both columns
    column_map:
      Proportion: proportion
  NAICS2012_to_NAICS2012io:
    filename: NAICS2012_to_NAICS2012io.csv
    column_map:
      NAICSIO: NAICSio
      NAICS2012: NAICS
      Proportion: proportion
  NAICS2017_to_NAICS2007io:
    filename: NAICS2017_to_NAICS2007io.csv
    # no index col as there are dupes in both columns
    column_map:
      Proportion: proportion
  NAICS2012_to_NAICS2007:
    filename: NAICS2012_to_NAICS2007.csv
    # no index col as there are dupes in both columns
  NAICS2017_to_NAICS2007:
    filename: NAICS2017_to_NAICS2007.csv
    # no index col as there are dupes in both columns
  NAICS2017_to_NAICS2012:
    filename: NAICS2017_to_NAICS2012.csv
    # no index col as there are dupes in both columns
  NAICS2007io_to_SCTG:
    filename: NAICS2007io_to_SCTG.csv
    column_map:
      Proportion: proportion
  NAICS2012io_to_SCTG:
    filename: NAICS2012io_to_SCTG.csv
    column_map:
      NAICSIO: NAICSio
      Proportion: proportion
  foreign_prod_values:
    filename: data_foreign_prod.csv
    column_map:
      Commodity_NAICS6: NAICS6
      USImpVal: pro_val
      FAFZONE: FAF
  foreign_cons_values:
    filename: data_foreign_cons.csv
    column_map:
      Commodity_NAICS6: NAICS6
      USExpVal: con_val
      FAFZONE: FAF

scenario_input_tables:
  socio_economics_taz:
    filename: lehdtazm.csv

est_synthesis_tables:
  ests_establishments:
    filename: *firms_file_name
    column_map:
      estid: bus_id
      naics: naics
      n2: n2
      n4: n4
      TAZ: TAZ
      CountyFIPS: county_FIPS
      StateFIPS: state_FIPS
      FAF4: FAF4
    index_col: bus_id


run_list:
  steps:
    - input_pre_processor
    - est_synthesis
    - write_data_dictionary
    - write_tables

#resume_after: write_data_dictionary


# output_tables can specify either a list of output tables to include or to skip
# if neither is specified, then all checkpointed tables will be written
#
output_tables:
  action: skip
  tables:
    - naics_industry
    - industry_10_5
    - naics_empcat
    - taz_fips
    - taz_faf4
    - unit_cost
    - est_pref_weights
    - employment_categories
    - firm_employment_categories
    - input_output_values
    - NAICS2007_to_NAICS2007io
    - NAICS2012_to_NAICS2007io
    - NAICS2012_to_NAICS2007
    - NAICS2007io_to_SCTG
    - foreign_prod_values
    - foreign_cons_values

#output_tables:
#  action: include
#  tables:
#    - matches_naics
#    - naics_set


